## Special Databases

### Admin Database

- Exists by default in every MongoDB instance
- Special significance in authentication system
- Used for storing user accounts and roles
- Required for certain administrative operations

## MongoDB Built-in Roles

MongoDB provides a comprehensive set of built-in roles that cover most typical use cases. You can also create custom roles, but the built-in ones handle the majority of scenarios.

### Database User Roles

**Basic Data Access Roles:**

- **`read`** - Can only query data (find, aggregation framework)
  - Cannot insert, update, or delete documents
  - Perfect for data analysts and reporting tools
- **`readWrite`** - Full data access within assigned database(s)
  - Can perform all CRUD operations
  - Suitable for applications that need to modify data

### Database Administration Roles

**Database Management:**

- **`dbAdmin`** - Database administration tasks
  - Can create collections
  - Manage database structure
  - Cannot manage users directly
- **`userAdmin`** - User management within database
  - Create and manage users
  - Assign roles to users
  - Focus on user administration

### All Database Roles

When you need access across multiple databases without manually assigning roles to each:

- **`readAllDatabases`** - Read access to ALL databases (current and future)
- **`readWriteAllDatabases`** - Read/write access to ALL databases
- **`userAdminAnyDatabase`** - User administration across ALL databases
- **`dbAdminAnyDatabase`** - Database administration across ALL databases
  **Why Use All Database Roles?**

- Avoid manually adding roles for each database
- Automatically includes future databases
- Simplifies management for users who need broad access

### Cluster Administration Roles

For managing MongoDB clusters (multiple servers working together):

- Used when scaling with multiple MongoDB servers
- Specialized roles for cluster management tasks
- Requires advanced MongoDB knowledge

### Backup and Restore Roles

**Specialized Operations:**

- **`backup`** - Can perform database backups
- **`restore`** - Can restore databases from backups
- Perfect for users responsible only for data backup/recovery

### Super User Roles

**Special Admin Database Assignment:** When assigned to the `admin` database, these roles become super users:

- **`dbOwner`** on admin database
- **`userAdmin`** on admin database
- **`dbAdmin`** on admin database
  **Super User Capabilities:**

- Can create new users
- Can modify their own roles
- Can change other users' permissions
- Very powerful - use with caution
  **`root` Role:**

- Most powerful role available
- Can do everything (equivalent to pre-authentication access)
- Complete administrative control
- Use only when absolutely necessary

## Role Assignment and Database Scope

### Key Concepts

1.  **Database-Specific Roles**: Most roles apply only to the database they're assigned to
2.  **Cross-Database Access**: Use "All Database" roles for multi-database access
3.  **Admin Database Special Cases**: Roles assigned to admin database often have special meaning

### Role Details and Actions

Each built-in role grants specific privileges (actions on resources). For example:

**`read` Role Includes:**

- `find` command access
- `listCollections` command (show collections in shell)
- Query execution permissions
  **Finding Role Details:**

- Google "mongodb built-in roles"
- Official MongoDB documentation provides complete action lists
- Shows exactly what commands each role enables

## Best Practices

### Role Selection Guidelines

1.  **Principle of Least Privilege**: Choose the most restrictive role that meets needs
2.  **Specific vs. Broad**: Use database-specific roles when possible, "All Database" roles only when necessary
3.  **Super User Caution**: Limit super user roles to trusted administrators
4.  **Regular Review**: Periodically audit user roles and permissions

### Common Role Patterns

**Data Analyst**: `read` role on specific databases **Application**: `readWrite` role on application databases **Database Administrator**: `dbAdmin` role on managed databases **User Manager**: `userAdmin` role on relevant databases **System Administrator**: `root` role (use sparingly)

## Next Steps

Understanding role assignment to users and controlling database scope is crucial for implementing proper MongoDB security. The built-in roles provide a solid foundation for most use cases while maintaining security best practices.
